# fiber_lib
## 项目描述：
开发了在Linux环境下使用C++实现的服务器框架，该项目核心在于编写协程框架。该协程库通过ucontext_t实现了协程的轻量级调度，结合epoll和定时器，支持IO事件和定时器事件的回调。

1. 基于RAII思想封装了资源管理类，实现了互斥量、信号量、读写锁等线程同步机制
2. 设计并实现了基于ucontext_t的非对称协程，定义了三种协程状态，实现了子协程与主线程的切换
3. 开发了基于时间堆的定时器功能，支持超时事件的管理
4. 开发了N-M协程调度器，使main函数线程能够参与调度，并结合epoll和定时器实现了IO协程调度
5. 对sleep、Socket IO、fd操作等系统调用进行了Hook封装，将阻塞调用转换为异步操作

## TODO
### 内存池优化
当前协程在创建时自动分配独立栈空间，销毁时释放，引入频繁的系统调用。通过内存池技术优化可减少系统调用，提高内存使用效率。

### 协程嵌套支持
目前只支持主协程与子协程之间的切换，无法实现协程的嵌套。参考libco的设计，实现更复杂的协程嵌套功能，允许在协程内部再次创建新的协程层级。